#!/usr/bin/env ruby
require 'fileutils'

# path to your application root.
APP_ROOT = File.expand_path('..', __dir__)

def system!(*args)
  system(*args) || abort("\n== Command #{args} failed ==")
end

FileUtils.chdir APP_ROOT do

  puts "== Instalando dependÃªncias =="
  system! 'gem install bundler --conservative'
  system('bundle check') || system('bundle install')

  puts "\n== Criando o banco de dados =="
  puts "\n"

  puts <<~Banco
             \s\s\s\s\s\s\s ðŸ‡¸â€‹â€‹â€‹â€‹â€‹ ðŸ‡¶â€‹â€‹â€‹â€‹â€‹ ðŸ‡±â€‹â€‹â€‹â€‹â€‹ ðŸ‡®â€‹â€‹â€‹â€‹â€‹ ðŸ‡¹â€‹â€‹â€‹â€‹â€‹ ðŸ‡ªâ€‹â€‹â€‹â€‹â€‹
  Banco

  puts "\n"
  system! 'config/database.config'
  puts "Banco Configurado !!"

  puts "\n== VocÃª estÃ¡ pronto para comeÃ§ar =="
end
